<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign In / Sign Up</title>
  <style>
    :root{
      --bg: #0f172a;
      --panel: #111827;
      --panel-2: #1f2937;
      --txt: #e5e7eb;
      --muted: #9ca3af;
      --brand: #22c55e;
      --brand-2:#16a34a;
      --danger:#ef4444;
      --ring: rgba(34,197,94,0.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Arial, Noto Sans;
      background: radial-gradient(1200px 800px at 20% 10%, #0b1224 0, var(--bg) 40%),
                  radial-gradient(1000px 800px at 80% 90%, #0b1a1a 0, var(--bg) 40%);
      color:var(--txt); display:grid; place-items:center; padding:24px;
    }
    .card{width:min(960px,96vw);background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.1);border-radius:24px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.35);backdrop-filter:blur(10px)}
    .header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px 16px}
    .brand{font-weight:800}
    .tabs{display:flex;gap:8px}
    .tab{cursor:pointer;padding:10px 16px;border-radius:999px;border:1px solid rgba(255,255,255,0.1);background:var(--panel-2);color:var(--txt);opacity:.85;transition:.2s}
    .tab.active,.tab:hover{opacity:1;border-color:rgba(34,197,94,0.6);box-shadow:0 0 0 3px var(--ring)}
    .content{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media(max-width:860px){.content{grid-template-columns:1fr}}
    .panel{background:var(--panel);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:18px}
    .panel h2{margin:0 0 12px;font-size:20px}
    .hidden{display:none!important}
    form{display:grid;gap:12px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:520px){.row{grid-template-columns:1fr}}
    label{font-size:12px;color:var(--muted)}
    input,button,.ghost{width:100%}
    input{background:var(--panel-2);border:1px solid rgba(255,255,255,0.12);color:var(--txt);padding:12px 14px;border-radius:12px;outline:none;transition:.2s;font-size:14px}
    input:focus{border-color:var(--brand);box-shadow:0 0 0 3px var(--ring)}
    .actions{display:flex;flex-direction:column;gap:10px;margin-top:4px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:12px 14px;border-radius:12px;cursor:pointer;border:1px solid rgba(255,255,255,0.12);
      background:linear-gradient(180deg,var(--brand),var(--brand-2));color:white;font-weight:700;text-transform:uppercase;font-size:13px}
    .btn:active{transform:translateY(1px)}
    .note{font-size:12px;color:var(--muted)}
    .error{font-size:12px;color:var(--danger);min-height:16px}
    .ok{font-size:12px;color:#4ade80;min-height:16px}
    .preview{display:flex;align-items:center;gap:12px}
    .avatar{width:44px;height:44px;border-radius:50%;border:1px solid rgba(255,255,255,0.12);object-fit:cover;background:#0b1020}
    .divider{height:1px;background:rgba(255,255,255,0.1);margin:10px 0}
  </style>
</head>
<body>
  <div class="card">
    <div class="header">
      <div class="brand">üîê Auth Demo</div>
      <div class="tabs">
        <button class="tab active" id="tab-signin" type="button">Sign In</button>
        <button class="tab" id="tab-signup" type="button">Sign Up</button>
      </div>
    </div>
    <div class="content">

      <!-- Sign In -->
      <section class="panel" id="panel-signin">
        <h2>Sign In</h2>
        <form id="form-signin">
          <div>
            <label for="uid">UID</label>
            <input id="uid" name="uid" type="text" placeholder="Enter UID" required />
          </div>
          <div class="actions">
            <button class="btn" type="submit">Sign In</button>
          </div>
        </form>
      </section>

      <!-- Sign Up -->
      <section class="panel hidden" id="panel-signup">
        <h2>Create your account</h2>
        <form id="form-signup">
          <div class="row">
            <div>
              <label for="firstName">First Name</label>
              <input id="firstName" name="firstName" type="text" required />
            </div>
            <div>
              <label for="lastName">Last Name</label>
              <input id="lastName" name="lastName" type="text" required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="phone">Phone</label>
              <input id="phone" name="phone" type="tel" maxlength="10" />
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" name="email" type="email" required />
            </div>
          </div>
          <div>
            <label for="photo">Profile Picture</label>
            <input id="photo" type="file" accept="image/*" />
            <div class="preview">
              <img id="avatar" class="avatar" alt="preview" />
              <span id="photo-name" class="note">No image selected</span>
            </div>
          </div>
          <div class="actions">
            <button class="btn" id="btn-register" type="submit">Register</button>

            <!-- Official Google button -->
            <div id="g_id_onload"
                 data-client_id="705482215484-kl0vro5evrhissbe9vrl90s0gfjd8bm5.apps.googleusercontent.com"
                 data-context="signup"
                 data-ux_mode="popup"
                 data-callback="handleGoogleSignIn"
                 data-auto_prompt="false">
            </div>
            <div class="g_id_signin"
                 data-type="standard"
                 data-size="large"
                 data-theme="outline"
                 data-text="signup_with"
                 data-shape="rectangular"
                 data-logo_alignment="left">
            </div>

            <div id="signup-msg" class="ok"></div>
          </div>
        </form>
      </section>
    </div>
  </div>

  <!-- Google Identity -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    // Tabs
    const tabSignin=document.getElementById('tab-signin');
    const tabSignup=document.getElementById('tab-signup');
    const panelSignin=document.getElementById('panel-signin');
    const panelSignup=document.getElementById('panel-signup');
    tabSignin.onclick=()=>{tabSignin.classList.add('active');tabSignup.classList.remove('active');panelSignin.classList.remove('hidden');panelSignup.classList.add('hidden');}
    tabSignup.onclick=()=>{tabSignup.classList.add('active');tabSignin.classList.remove('active');panelSignup.classList.remove('hidden');panelSignin.classList.add('hidden');}

    // Google callback
    function handleGoogleSignIn(response){
      const data=parseJwt(response.credential);
      console.log("Google User:",data);
      document.getElementById('firstName').value=data.given_name||'';
      document.getElementById('lastName').value=data.family_name||'';
      document.getElementById('email').value=data.email||'';
      document.getElementById('avatar').src=data.picture||'';
      document.getElementById('photo-name').textContent="From Google";
      document.getElementById('signup-msg').textContent="Google user auto-filled ‚úî";
    }
    function parseJwt(token){
      const base64Url=token.split('.')[1];
      const base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');
      const jsonPayload=decodeURIComponent(atob(base64).split('').map(c=>{
        return '%'+('00'+c.charCodeAt(0).toString(16)).slice(-2);
      }).join(''));
      return JSON.parse(jsonPayload);
    }
  </script>
</body>
</html>
